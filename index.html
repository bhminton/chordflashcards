<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guitar Chord Flashcards</title>
  <style>
    body { background:#0b1220; color:#e8eefc; font-family:Arial, Helvetica, sans-serif; margin:0; padding:24px; }
    .card { background:#0f1a2e; border:1px solid #1e2c48; border-radius:14px; padding:18px; margin-bottom:16px; }
    h1 { margin:0 0 6px 0; font-size:28px; }
    .sub { opacity:0.8; margin:0; }
    .big { height:170px; display:flex; align-items:center; justify-content:center; border-radius:14px;
           border:1px dashed #2a3a5c; font-size:72px; font-weight:800; letter-spacing:1px; }
    .row { display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    label { opacity:0.85; }
    input { width:60px; padding:8px 10px; border-radius:10px; border:1px solid #2a3a5c; background:#0b1220; color:#e8eefc; }
    button { padding:10px 14px; border-radius:12px; border:1px solid #2a3a5c; background:#101f38; color:#e8eefc; font-weight:700; cursor:pointer; }
    button:disabled { opacity:0.4; cursor:not-allowed; }
    .meta { margin-top:12px; opacity:0.85; line-height:1.6; }
    .tiny { opacity:0.6; font-size:13px; margin-top:8px; }
  </style>
</head>
<body>

  <div class="card">
    <h1>Guitar Chord Flashcards</h1>
    <p class="sub">Random chords, no repeats, until the deck is empty.</p>
  </div>

  <div class="card">
    <div id="chordDisplay" class="big">Press Start</div>
  </div>

  <div class="card">
    <div class="row">
      <label for="secondsPerChord">Seconds per chord:</label>
      <input id="secondsPerChord" type="number" min="1" value="15" />
      <button id="startBtn">Start</button>
      <button id="pauseBtn" disabled>Pause</button>
      <button id="resumeBtn" disabled>Resume</button>
      <button id="resetBtn">Reset</button>
      <button id="skipBtn" disabled>Skip</button>
    </div>

    <div class="meta">
      <div>Remaining: <span id="remaining">0</span></div>
      <div>Current timer: <span id="timer">--</span></div>
      <div class="tiny">Tip: Edit the chord list in the code (look for <b>const CHORDS = [...];</b>).</div>
    </div>
  </div>

  <script>
    // Run AFTER the page is built, so buttons actually work.
    window.addEventListener("DOMContentLoaded", () => {

      // ========= "DATA LINE" =========
      // Edit this list to add/remove chords without changing the logic.
      const CHORDS = [
        "C", "G", "D", "A", "E",
        "Am", "Em", "Dm",
        "F", "C7", "G7", "D7",
        "Bm", "B7", "A7"
      ];
      // ===============================

      const chordDisplay = document.getElementById("chordDisplay");
      const remainingEl  = document.getElementById("remaining");
      const timerEl      = document.getElementById("timer");

      const secondsInput = document.getElementById("secondsPerChord");
      const startBtn     = document.getElementById("startBtn");
      const pauseBtn     = document.getElementById("pauseBtn");
      const resumeBtn    = document.getElementById("resumeBtn");
      const resetBtn     = document.getElementById("resetBtn");
      const skipBtn      = document.getElementById("skipBtn");

      let deck = [];
      let running = false;
      let paused = false;

      let intervalId = null;
      let secondsLeft = 0;

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function resetDeck() {
        deck = shuffle([...CHORDS]);
        remainingEl.textContent = deck.length;
      }

      function setButtons() {
        startBtn.disabled  = running;
        pauseBtn.disabled  = !running || paused;
        resumeBtn.disabled = !running || !paused;
        skipBtn.disabled   = !running;
      }

      function stopTimer() {
        if (intervalId) clearInterval(intervalId);
        intervalId = null;
        timerEl.textContent = "--";
      }

      function showNextChord() {
        if (deck.length === 0) {
          chordDisplay.textContent = "Done âœ… (Reset)";
          running = false;
          paused = false;
          stopTimer();
          setButtons();
          remainingEl.textContent = "0";
          return;
        }

        const chord = deck.pop();
        chordDisplay.textContent = chord;
        remainingEl.textContent = deck.length;

        const secondsPerChord = Math.max(1, parseInt(secondsInput.value || "15", 10));
        secondsLeft = secondsPerChord;
        timerEl.textContent = secondsLeft + "s";

        stopTimer();
        intervalId = setInterval(() => {
          if (!running || paused) return;
          secondsLeft--;
          timerEl.textContent = secondsLeft + "s";
          if (secondsLeft <= 0) showNextChord();
        }, 1000);
      }

      function start() {
        if (CHORDS.length === 0) {
          chordDisplay.textContent = "No chords in list!";
          return;
        }
        resetDeck();
        running = true;
        paused = false;
        setButtons();
        showNextChord();
      }

      function pause() { paused = true; setButtons(); }
      function resume() { paused = false; setButtons(); }
      function reset() {
        running = false;
        paused = false;
        stopTimer();
        resetDeck();
        chordDisplay.textContent = "Press Start";
        setButtons();
      }
      function skip() {
        if (!running) return;
        showNextChord();
      }

      startBtn.addEventListener("click", start);
      pauseBtn.addEventListener("click", pause);
      resumeBtn.addEventListener("click", resume);
      resetBtn.addEventListener("click", reset);
      skipBtn.addEventListener("click", skip);

      // initialize
      reset();
    });
  </script>
</body>
</html>
